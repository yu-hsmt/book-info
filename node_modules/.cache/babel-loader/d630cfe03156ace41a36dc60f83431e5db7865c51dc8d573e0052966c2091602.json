{"ast":null,"code":"import _objectSpread from \"/Users/yu/vue-book-info-app____/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\n// Utilities\nimport { h, Transition, TransitionGroup } from 'vue';\nimport { genericComponent, propsFactory } from \"../../util/index.mjs\"; // Types\nexport var makeTransitionProps = propsFactory({\n  disabled: Boolean,\n  group: Boolean,\n  hideOnLeave: Boolean,\n  leaveAbsolute: Boolean,\n  mode: String,\n  origin: String\n}, 'transition');\nexport function createCssTransition(name, origin, mode) {\n  return genericComponent()({\n    name: name,\n    props: makeTransitionProps({\n      mode: mode,\n      origin: origin\n    }),\n    setup: function setup(props, _ref) {\n      var slots = _ref.slots;\n      var functions = {\n        onBeforeEnter: function onBeforeEnter(el) {\n          if (props.origin) {\n            el.style.transformOrigin = props.origin;\n          }\n        },\n        onLeave: function onLeave(el) {\n          if (props.leaveAbsolute) {\n            var offsetTop = el.offsetTop,\n              offsetLeft = el.offsetLeft,\n              offsetWidth = el.offsetWidth,\n              offsetHeight = el.offsetHeight;\n            el._transitionInitialStyles = {\n              position: el.style.position,\n              top: el.style.top,\n              left: el.style.left,\n              width: el.style.width,\n              height: el.style.height\n            };\n            el.style.position = 'absolute';\n            el.style.top = \"\".concat(offsetTop, \"px\");\n            el.style.left = \"\".concat(offsetLeft, \"px\");\n            el.style.width = \"\".concat(offsetWidth, \"px\");\n            el.style.height = \"\".concat(offsetHeight, \"px\");\n          }\n          if (props.hideOnLeave) {\n            el.style.setProperty('display', 'none', 'important');\n          }\n        },\n        onAfterLeave: function onAfterLeave(el) {\n          if (props.leaveAbsolute && el !== null && el !== void 0 && el._transitionInitialStyles) {\n            var _el$_transitionInitia = el._transitionInitialStyles,\n              position = _el$_transitionInitia.position,\n              top = _el$_transitionInitia.top,\n              left = _el$_transitionInitia.left,\n              width = _el$_transitionInitia.width,\n              height = _el$_transitionInitia.height;\n            delete el._transitionInitialStyles;\n            el.style.position = position || '';\n            el.style.top = top || '';\n            el.style.left = left || '';\n            el.style.width = width || '';\n            el.style.height = height || '';\n          }\n        }\n      };\n      return function () {\n        var tag = props.group ? TransitionGroup : Transition;\n        return h(tag, _objectSpread(_objectSpread({\n          name: props.disabled ? '' : name,\n          css: !props.disabled\n        }, props.group ? undefined : {\n          mode: props.mode\n        }), props.disabled ? {} : functions), slots[\"default\"]);\n      };\n    }\n  });\n}\nexport function createJavascriptTransition(name, functions) {\n  var mode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'in-out';\n  return genericComponent()({\n    name: name,\n    props: {\n      mode: {\n        type: String,\n        \"default\": mode\n      },\n      disabled: Boolean,\n      group: Boolean\n    },\n    setup: function setup(props, _ref2) {\n      var slots = _ref2.slots;\n      var tag = props.group ? TransitionGroup : Transition;\n      return function () {\n        return h(tag, _objectSpread({\n          name: props.disabled ? '' : name,\n          css: !props.disabled\n        }, props.disabled ? {} : functions), slots[\"default\"]);\n      };\n    }\n  });\n}","map":{"version":3,"names":["h","Transition","TransitionGroup","genericComponent","propsFactory","makeTransitionProps","disabled","Boolean","group","hideOnLeave","leaveAbsolute","mode","String","origin","createCssTransition","name","props","setup","_ref","slots","functions","onBeforeEnter","el","style","transformOrigin","onLeave","offsetTop","offsetLeft","offsetWidth","offsetHeight","_transitionInitialStyles","position","top","left","width","height","concat","setProperty","onAfterLeave","_el$_transitionInitia","tag","_objectSpread","css","undefined","createJavascriptTransition","arguments","length","type","_ref2"],"sources":["../../../src/components/transitions/createTransition.ts"],"sourcesContent":["// Utilities\nimport { h, Transition, TransitionGroup } from 'vue'\nimport { genericComponent, propsFactory } from '@/util'\n\n// Types\nimport type { FunctionalComponent, PropType } from 'vue'\n\nexport const makeTransitionProps = propsFactory({\n  disabled: Boolean,\n  group: Boolean,\n  hideOnLeave: Boolean,\n  leaveAbsolute: Boolean,\n  mode: String,\n  origin: String,\n}, 'transition')\n\nexport function createCssTransition (\n  name: string,\n  origin?: string,\n  mode?: string\n) {\n  return genericComponent()({\n    name,\n\n    props: makeTransitionProps({\n      mode,\n      origin,\n    }),\n\n    setup (props, { slots }) {\n      const functions = {\n        onBeforeEnter (el: HTMLElement) {\n          if (props.origin) {\n            el.style.transformOrigin = props.origin\n          }\n        },\n        onLeave (el: HTMLElement) {\n          if (props.leaveAbsolute) {\n            const { offsetTop, offsetLeft, offsetWidth, offsetHeight } = el\n            el._transitionInitialStyles = {\n              position: el.style.position,\n              top: el.style.top,\n              left: el.style.left,\n              width: el.style.width,\n              height: el.style.height,\n            }\n            el.style.position = 'absolute'\n            el.style.top = `${offsetTop}px`\n            el.style.left = `${offsetLeft}px`\n            el.style.width = `${offsetWidth}px`\n            el.style.height = `${offsetHeight}px`\n          }\n\n          if (props.hideOnLeave) {\n            el.style.setProperty('display', 'none', 'important')\n          }\n        },\n        onAfterLeave (el: HTMLElement) {\n          if (props.leaveAbsolute && el?._transitionInitialStyles) {\n            const { position, top, left, width, height } = el._transitionInitialStyles\n            delete el._transitionInitialStyles\n            el.style.position = position || ''\n            el.style.top = top || ''\n            el.style.left = left || ''\n            el.style.width = width || ''\n            el.style.height = height || ''\n          }\n        },\n      }\n\n      return () => {\n        const tag = props.group ? TransitionGroup : Transition\n\n        return h(tag as FunctionalComponent, {\n          name: props.disabled ? '' : name,\n          css: !props.disabled,\n          ...(props.group ? undefined : { mode: props.mode }),\n          ...(props.disabled ? {} : functions),\n        }, slots.default)\n      }\n    },\n  })\n}\n\nexport function createJavascriptTransition (\n  name: string,\n  functions: Record<string, any>,\n  mode = 'in-out'\n) {\n  return genericComponent()({\n    name,\n\n    props: {\n      mode: {\n        type: String as PropType<'in-out' | 'out-in' | 'default'>,\n        default: mode,\n      },\n      disabled: Boolean,\n      group: Boolean,\n    },\n\n    setup (props, { slots }) {\n      const tag = props.group ? TransitionGroup : Transition\n\n      return () => {\n        return h(tag as FunctionalComponent, {\n          name: props.disabled ? '' : name,\n          css: !props.disabled,\n          // mode: props.mode, // TODO: vuejs/vue-next#3104\n          ...(props.disabled ? {} : functions),\n        }, slots.default)\n      }\n    },\n  })\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}