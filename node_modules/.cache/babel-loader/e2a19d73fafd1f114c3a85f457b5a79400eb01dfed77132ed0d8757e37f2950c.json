{"ast":null,"code":"import _regeneratorRuntime from \"/Users/yu/vue-book-info-app____/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/yu/vue-book-info-app____/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { createStore } from 'vuex';\nimport axios from 'axios';\nexport default createStore({\n  state: {\n    books: [],\n    error: null\n  },\n  mutations: {\n    setBooks: function setBooks(state, books) {\n      state.books = books; //stateのbooksにbooksの中に入っている値を入れる\n    },\n    setError: function setError(state, error) {\n      state.error = error; //stateのerrorにerrorの中に入っている値を入れる\n    }\n  },\n  actions: {\n    fetchBooks: function fetchBooks(_ref, query) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var commit, response;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              commit = _ref.commit;\n              _context.prev = 1;\n              _context.next = 4;\n              return axios.get(\"https://www.googleapis.com/books/v1/volumes?q=\".concat(query) //「query」は検索ボックスに入力した文字列\n              );\n            case 4:\n              response = _context.sent;\n              commit('setBooks', response.data.items || []); //mutationsのsetBooksに、response.data.itemsがあればそれを、なければ空の配列を入れる\n              _context.next = 11;\n              break;\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](1);\n              commit('setError', 'Failed to fetch books.'); //エラーの場合、mutationsのsetErrorに、「Failed to fetch books.」を入れる\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[1, 8]]);\n      }))();\n    }\n  }\n});","map":{"version":3,"names":["createStore","axios","state","books","error","mutations","setBooks","setError","actions","fetchBooks","_ref","query","_asyncToGenerator","_regeneratorRuntime","mark","_callee","commit","response","wrap","_callee$","_context","prev","next","get","concat","sent","data","items","t0","stop"],"sources":["/Users/yu/vue-book-info-app____/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex';\nimport axios from 'axios';\n\nexport default createStore({\n  state: {\n    books: [],\n    error: null,\n  },\n  mutations: {\n    setBooks(state, books) {\n      state.books = books; //stateのbooksにbooksの中に入っている値を入れる\n    },\n    setError(state, error) {\n      state.error = error; //stateのerrorにerrorの中に入っている値を入れる\n    }\n  },\n  actions: {\n    async fetchBooks({ commit }, query) {\n      try {\n        const response = await axios.get(\n          `https://www.googleapis.com/books/v1/volumes?q=${query}` //「query」は検索ボックスに入力した文字列\n        );\n        commit('setBooks', response.data.items || []); //mutationsのsetBooksに、response.data.itemsがあればそれを、なければ空の配列を入れる\n      } catch (error) {\n        commit('setError', 'Failed to fetch books.') //エラーの場合、mutationsのsetErrorに、「Failed to fetch books.」を入れる\n      }\n    },\n  },\n});"],"mappings":";;AAAA,SAASA,WAAW,QAAQ,MAAM;AAClC,OAAOC,KAAK,MAAM,OAAO;AAEzB,eAAeD,WAAW,CAAC;EACzBE,KAAK,EAAE;IACLC,KAAK,EAAE,EAAE;IACTC,KAAK,EAAE;EACT,CAAC;EACDC,SAAS,EAAE;IACTC,QAAQ,WAARA,QAAQA,CAACJ,KAAK,EAAEC,KAAK,EAAE;MACrBD,KAAK,CAACC,KAAK,GAAGA,KAAK,CAAC,CAAC;IACvB,CAAC;IACDI,QAAQ,WAARA,QAAQA,CAACL,KAAK,EAAEE,KAAK,EAAE;MACrBF,KAAK,CAACE,KAAK,GAAGA,KAAK,CAAC,CAAC;IACvB;EACF,CAAC;EACDI,OAAO,EAAE;IACDC,UAAU,WAAVA,UAAUA,CAAAC,IAAA,EAAaC,KAAK,EAAE;MAAA,OAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,MAAA,EAAAC,QAAA;QAAA,OAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAjBN,MAAM,GAAAN,IAAA,CAANM,MAAM;cAAAI,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAEErB,KAAK,CAACsB,GAAG,kDAAAC,MAAA,CACmBb,KAAK,EAAG;cAC3D,CAAC;YAAA;cAFKM,QAAQ,GAAAG,QAAA,CAAAK,IAAA;cAGdT,MAAM,CAAC,UAAU,EAAEC,QAAQ,CAACS,IAAI,CAACC,KAAK,IAAI,EAAE,CAAC,CAAC,CAAC;cAAAP,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAQ,EAAA,GAAAR,QAAA;cAE/CJ,MAAM,CAAC,UAAU,EAAE,wBAAwB,CAAC,EAAC;YAAA;YAAA;cAAA,OAAAI,QAAA,CAAAS,IAAA;UAAA;QAAA,GAAAd,OAAA;MAAA;IAEjD;EACF;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}